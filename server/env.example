# =============================================================================
# THEME FORUM API - ENVIRONMENT CONFIGURATION
# =============================================================================
# Copy this file to .env and update the values according to your environment
# cp env.example .env

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================
NODE_ENV=development
PORT=3000
API_VERSION=v1
APP_NAME=Theme Forum API
APP_DESCRIPTION=Secure and scalable REST API for Theme Forum application

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
MONGODB_URI=mongodb://localhost:27017/theme-forum
MONGODB_URI_TEST=mongodb://localhost:27017/theme-forum-test
MONGODB_USER=
MONGODB_PASS=
MONGODB_AUTH_SOURCE=admin
MONGODB_CONNECTION_TIMEOUT=30000
MONGODB_SOCKET_TIMEOUT=30000
MONGODB_POOL_SIZE=10

# =============================================================================
# JWT CONFIGURATION
# =============================================================================
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_REFRESH_SECRET=your-super-secret-refresh-key-change-this-in-production
JWT_ACCESS_EXPIRY=15m
JWT_REFRESH_EXPIRY=7d
JWT_ISSUER=theme-forum-api
JWT_AUDIENCE=theme-forum-users

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================
# CORS Configuration
CORS_ORIGIN=http://localhost:4200
CORS_CREDENTIALS=true
CORS_MAX_AGE=86400

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
AUTH_RATE_LIMIT_MAX_ATTEMPTS=5
AUTH_RATE_LIMIT_WINDOW_MS=900000

# Password Security
PASSWORD_MIN_LENGTH=8
PASSWORD_MAX_LENGTH=128
PASSWORD_SALT_ROUNDS=12
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_NUMBERS=true
PASSWORD_REQUIRE_SPECIAL_CHARS=true

# Account Security
MAX_LOGIN_ATTEMPTS=5
ACCOUNT_LOCKOUT_DURATION=900000
SESSION_TIMEOUT=3600000
REFRESH_TOKEN_CLEANUP_INTERVAL=86400000

# =============================================================================
# FILE UPLOAD CONFIGURATION
# =============================================================================
UPLOAD_MAX_FILE_SIZE=5242880
UPLOAD_ALLOWED_FILE_TYPES=image/jpeg,image/png,image/gif,image/webp
UPLOAD_DESTINATION=uploads
UPLOAD_FILENAME_PATTERN=timestamp-originalname

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
LOG_LEVEL=info
LOG_FORMAT=combined
LOG_FILE=logs/app.log
LOG_MAX_SIZE=10485760
LOG_MAX_FILES=5

# =============================================================================
# EMAIL CONFIGURATION (for future use)
# =============================================================================
EMAIL_SERVICE=gmail
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_SECURE=false
EMAIL_USER=your-email@gmail.com
EMAIL_PASS=your-app-password
EMAIL_FROM=noreply@themeforum.com

# =============================================================================
# TWO-FACTOR AUTHENTICATION (for future use)
# =============================================================================
TOTP_ISSUER=Theme Forum
TOTP_ALGORITHM=SHA1
TOTP_DIGITS=6
TOTP_PERIOD=30

# =============================================================================
# MONITORING & ANALYTICS (for future use)
# =============================================================================
ENABLE_METRICS=true
METRICS_PORT=9090
ENABLE_HEALTH_CHECKS=true
HEALTH_CHECK_INTERVAL=30000

# =============================================================================
# DEVELOPMENT & TESTING
# =============================================================================
ENABLE_DEBUG_LOGGING=false
ENABLE_SWAGGER_DOCS=true
ENABLE_API_TESTING=true
SEED_DATABASE=false

# =============================================================================
# PRODUCTION OVERRIDES
# =============================================================================
# Uncomment and update these for production deployment
# NODE_ENV=production
# PORT=3000
# MONGODB_URI=mongodb://production-db:27017/theme-forum-prod
# JWT_SECRET=your-production-jwt-secret
# JWT_REFRESH_SECRET=your-production-refresh-secret
# CORS_ORIGIN=https://yourdomain.com
# LOG_LEVEL=warn
# ENABLE_DEBUG_LOGGING=false
# ENABLE_SWAGGER_DOCS=false
# ENABLE_API_TESTING=false

# =============================================================================
# DOCKER CONFIGURATION (for containerized deployment)
# =============================================================================
# DOCKER_IMAGE_NAME=theme-forum-api
# DOCKER_IMAGE_TAG=latest
# DOCKER_CONTAINER_NAME=theme-forum-api
# DOCKER_NETWORK=theme-forum-network

# =============================================================================
# EXTERNAL SERVICES (for future integrations)
# =============================================================================
# REDIS_URL=redis://localhost:6379
# ELASTICSEARCH_URL=http://localhost:9200
# AWS_S3_BUCKET=theme-forum-uploads
# AWS_ACCESS_KEY_ID=your-aws-access-key
# AWS_SECRET_ACCESS_KEY=your-aws-secret-key
# AWS_REGION=us-east-1

# =============================================================================
# SECURITY HEADERS & CSP (Content Security Policy)
# =============================================================================
ENABLE_SECURITY_HEADERS=true
CSP_DEFAULT_SRC="'self'"
CSP_SCRIPT_SRC="'self' 'unsafe-inline'"
CSP_STYLE_SRC="'self' 'unsafe-inline'"
CSP_IMG_SRC="'self' data: https:"
CSP_FONT_SRC="'self' https:"
CSP_CONNECT_SRC="'self'"
CSP_FRAME_SRC="'none'"
CSP_OBJECT_SRC="'none'"
CSP_BASE_URI="'self'"
CSP_FORM_ACTION="'self'"
CSP_FRAME_ANCESTORS="'none'"

# =============================================================================
# BACKUP & RECOVERY
# =============================================================================
ENABLE_AUTO_BACKUP=false
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_DESTINATION=backups
BACKUP_COMPRESSION=true

# =============================================================================
# NOTIFICATIONS & WEBHOOKS (for future use)
# =============================================================================
ENABLE_WEBHOOKS=false
WEBHOOK_URL=
WEBHOOK_SECRET=
SLACK_WEBHOOK_URL=
DISCORD_WEBHOOK_URL=

# =============================================================================
# FEATURE FLAGS
# =============================================================================
ENABLE_USER_REGISTRATION=true
ENABLE_EMAIL_VERIFICATION=false
ENABLE_PASSWORD_RESET=true
ENABLE_SOCIAL_LOGIN=false
ENABLE_TWO_FACTOR_AUTH=false
ENABLE_FILE_UPLOADS=true
ENABLE_SEARCH=true
ENABLE_RATINGS=true
ENABLE_COMMENTS=true
ENABLE_NOTIFICATIONS=false
ENABLE_REAL_TIME_UPDATES=false

# =============================================================================
# PERFORMANCE & CACHING
# =============================================================================
ENABLE_CACHING=false
CACHE_TTL=300
CACHE_MAX_SIZE=100
ENABLE_COMPRESSION=true
ENABLE_ETAGS=true
ENABLE_CORS_PREFLIGHT=true

# =============================================================================
# MAINTENANCE MODE
# =============================================================================
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE=System is under maintenance. Please try again later.
MAINTENANCE_ALLOWED_IPS=127.0.0.1,::1
