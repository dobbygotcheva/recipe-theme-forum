<div class="admin-profile-container">
    <div class="admin-profile-header">
        <h1>‚ö° –ê–¥–º–∏–Ω –ü—Ä–æ—Ñ–∏–ª</h1>
        <p>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏–∏</p>
        <button (click)="refreshDashboard()" class="refresh-btn">
            üîÑ –û–±–Ω–æ–≤–∏ –¥–∞–Ω–Ω–∏—Ç–µ
        </button>
    </div>

    <div class="admin-stats-grid">
        <div class="stat-card">
            <div class="stat-icon">üë•</div>
            <div class="stat-content">
                <h3>–ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏</h3>
                <p class="stat-number">{{ userCount }}</p>
                <p class="stat-subtitle">–ê–¥–º–∏–Ω–∏: {{ getAdminCount() }} | –ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏: {{ getUserCount() }}</p>
                <button (click)="showUsersSection()" class="stat-action">–£–ø—Ä–∞–≤–ª—è–≤–∞–π</button>
            </div>
        </div>

        <div class="stat-card">
            <div class="stat-icon">üìù</div>
            <div class="stat-content">
                <h3>–†–µ—Ü–µ–ø—Ç–∏ –∑–∞ –º–æ–¥–µ—Ä–∞—Ü–∏—è</h3>
                <p class="stat-number">{{ pendingRecipes }}</p>
                <button (click)="showModerationSection()" class="stat-action">–ú–æ–¥–µ—Ä–∏—Ä–∞–π</button>
            </div>
        </div>





        <div class="stat-card">
            <div class="stat-icon">üç≥</div>
            <div class="stat-content">
                <h3>–ö—É—Ä—Å–æ–≤–µ</h3>
                <p class="stat-number">{{ courseCount }}</p>
                <button (click)="showCoursesSection()" class="stat-action">–£–ø—Ä–∞–≤–ª—è–≤–∞–π</button>
            </div>
        </div>

        <div class="stat-card">
            <div class="stat-icon">üìß</div>
            <div class="stat-content">
                <h3>–ö–æ–Ω—Ç–∞–∫—Ç–Ω–∏ —Å—ä–æ–±—â–µ–Ω–∏—è</h3>
                <p class="stat-number">{{ contactCount }}</p>
                <p class="stat-subtitle">–ù–æ–≤–∏: {{ newContactCount }}</p>
                <div class="stat-actions">
                    <button (click)="showContactSection()" class="stat-action">–£–ø—Ä–∞–≤–ª—è–≤–∞–π</button>
                </div>
            </div>
        </div>

        <div class="stat-card">
            <div class="stat-icon">üéÅ</div>
            <div class="stat-content">
                <h3>–¢–æ–º–±–æ–ª–∞</h3>
                <p class="stat-number">{{ lotteryParticipants || 0 }}</p>
                <p class="stat-subtitle">–ê–∫—Ç–∏–≤–Ω–∞: {{ lotteryActive ? '–î–∞' : '–ù—è–º–∞' }}</p>
                <button (click)="showLotterySection()" class="stat-action">–£–ø—Ä–∞–≤–ª—è–≤–∞–π</button>
            </div>
        </div>
    </div>

    <!-- Dynamic Admin Sections -->
    <div class="admin-sections">
        <!-- Users Management Section -->
        <div *ngIf="activeSection === 'users'" class="admin-section">
            <h2>üë• –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏</h2>
            <div class="users-list">
                <div *ngFor="let user of users" class="user-item">
                    <div class="user-info">
                        <strong>{{ user.username }}</strong> ({{ user.email }})
                        <span class="user-role">{{ user.role }}</span>
                    </div>
                    <div class="user-actions">
                        <button (click)="changeUserRole(user._id, user.role === 'admin' ? 'user' : 'admin')"
                            class="role-btn">
                            {{ user.role === 'admin' ? '–ü—Ä–µ–º–∞—Ö–Ω–∏ –∞–¥–º–∏–Ω' : '–ù–∞–ø—Ä–∞–≤–∏ –∞–¥–º–∏–Ω' }}
                        </button>
                        <button (click)="deleteUser(user._id)" class="delete-btn">–ò–∑—Ç—Ä–∏–π</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Recipe Moderation Section -->
        <div *ngIf="activeSection === 'moderation'" class="admin-section">
            <h2>üìù –ú–æ–¥–µ—Ä–∞—Ü–∏—è –Ω–∞ –†–µ—Ü–µ–ø—Ç–∏</h2>
            <div class="recipes-list">
                <div *ngFor="let recipe of pendingRecipesList" class="recipe-item">
                    <div class="recipe-info">
                        <h3>{{ recipe.title }}</h3>
                        <p><strong>–ê–≤—Ç–æ—Ä:</strong> {{ recipe.author?.username || recipe.author }}</p>
                        <p><strong>–ö–∞—Ç–µ–≥–æ—Ä–∏—è:</strong> {{ recipe.category }}</p>
                        <p><strong>–í—Ä–µ–º–µ:</strong> {{ recipe.time }} –º–∏–Ω</p>
                    </div>
                    <div class="recipe-actions">
                        <button (click)="approveRecipe(recipe._id)" class="approve-btn">‚úÖ –û–¥–æ–±—Ä–∏</button>
                        <button (click)="rejectRecipe(recipe._id)" class="reject-btn">‚ùå –û—Ç—Ö–≤—ä—Ä–ª–∏</button>
                        <button (click)="deleteRecipe(recipe._id)" class="delete-btn">üóëÔ∏è –ò–∑—Ç—Ä–∏–π</button>
                    </div>
                </div>
            </div>
        </div>



        <!-- Courses Management Section -->
        <div *ngIf="activeSection === 'courses'" class="admin-section">
            <h2>üìö –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –ö—É—Ä—Å–æ–≤–µ</h2>
            <div class="section-header">
                <button (click)="showEnrollmentsSection()" class="view-enrollments-btn">
                    üë• –ü—Ä–µ–≥–ª–µ–¥ –Ω–∞ –ó–∞–ø–∏—Å–∞–Ω–∏—Ç–µ –°—Ç—É–¥–µ–Ω—Ç–∏
                </button>
            </div>
            <div class="add-course-form">
                <h3>–î–æ–±–∞–≤–∏ –Ω–æ–≤ –∫—É—Ä—Å</h3>
                <div class="form-group">
                    <label for="courseTitle">–ó–∞–≥–ª–∞–≤–∏–µ:</label>
                    <input type="text" id="courseTitle" [(ngModel)]="newCourse.title"
                        placeholder="–í—ä–≤–µ–¥–µ—Ç–µ –∑–∞–≥–ª–∞–≤–∏–µ –Ω–∞ –∫—É—Ä—Å–∞">
                </div>
                <div class="form-group">
                    <label for="courseDescription">–û–ø–∏—Å–∞–Ω–∏–µ:</label>
                    <textarea id="courseDescription" [(ngModel)]="newCourse.description"
                        placeholder="–í—ä–≤–µ–¥–µ—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ –∫—É—Ä—Å–∞"></textarea>
                </div>
                <div class="form-group">
                    <label for="courseDay">–î–µ–Ω –æ—Ç —Å–µ–¥–º–∏—Ü–∞—Ç–∞:</label>
                    <select id="courseDay" [(ngModel)]="newCourse.day">
                        <option value="">–ò–∑–±–µ—Ä–µ—Ç–µ –¥–µ–Ω</option>
                        <option value="–ü–æ–Ω–µ–¥–µ–ª–Ω–∏–∫">–ü–æ–Ω–µ–¥–µ–ª–Ω–∏–∫</option>
                        <option value="–í—Ç–æ—Ä–Ω–∏–∫">–í—Ç–æ—Ä–Ω–∏–∫</option>
                        <option value="–°—Ä—è–¥–∞">–°—Ä—è–¥–∞</option>
                        <option value="–ß–µ—Ç–≤—ä—Ä—Ç—ä–∫">–ß–µ—Ç–≤—ä—Ä—Ç—ä–∫</option>
                        <option value="–ü–µ—Ç—ä–∫">–ü–µ—Ç—ä–∫</option>
                        <option value="–°—ä–±–æ—Ç–∞">–°—ä–±–æ—Ç–∞</option>
                        <option value="–ù–µ–¥–µ–ª—è">–ù–µ–¥–µ–ª—è</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="courseTime">–í—Ä–µ–º–µ:</label>
                    <input type="time" id="courseTime" [(ngModel)]="newCourse.time">
                </div>
                <div class="form-group">
                    <label for="courseDuration">–ü—Ä–æ–¥—ä–ª–∂–∏—Ç–µ–ª–Ω–æ—Å—Ç (–º–∏–Ω—É—Ç–∏):</label>
                    <input type="number" id="courseDuration" [(ngModel)]="newCourse.duration" min="30" max="300"
                        placeholder="30-300">
                </div>
                <div class="form-group">
                    <label for="courseMaxStudents">–ú–∞–∫—Å–∏–º–∞–ª–µ–Ω –±—Ä–æ–π —Å—Ç—É–¥–µ–Ω—Ç–∏:</label>
                    <input type="number" id="courseMaxStudents" [(ngModel)]="newCourse.maxStudents" min="1" max="50"
                        placeholder="1-50">
                </div>
                <button (click)="addCourse()" class="add-btn">–î–æ–±–∞–≤–∏ –∫—É—Ä—Å</button>
            </div>
            <div class="courses-list">
                <h3>–°—ä—â–µ—Å—Ç–≤—É–≤–∞—â–∏ –∫—É—Ä—Å–æ–≤–µ</h3>
                <div *ngFor="let course of coursesList" class="course-item">
                    <div class="course-info">
                        <h4>{{ course.title }}</h4>
                        <p><strong>–û–ø–∏—Å–∞–Ω–∏–µ:</strong> {{ course.description }}</p>
                        <p><strong>–î–µ–Ω:</strong> {{ course.day }}</p>
                        <p><strong>–í—Ä–µ–º–µ:</strong> {{ course.time }}</p>
                        <p><strong>–ü—Ä–æ–¥—ä–ª–∂–∏—Ç–µ–ª–Ω–æ—Å—Ç:</strong> {{ course.duration }} –º–∏–Ω</p>
                        <p><strong>–ú–∞–∫—Å. —Å—Ç—É–¥–µ–Ω—Ç–∏:</strong> {{ course.maxStudents }}</p>
                        <p><strong>–ó–∞–ø–∏—Å–∞–Ω–∏ —Å—Ç—É–¥–µ–Ω—Ç–∏:</strong> {{ allEnrollments.length > 0 ?
                            getEnrollmentCountForCourse(course._id) : 0 }} / {{ course.maxStudents }}</p>
                    </div>
                    <div class="course-actions">
                        <button (click)="loadCourseEnrollments(course._id)" class="view-enrollments-btn">
                            üë• –ü—Ä–µ–≥–ª–µ–¥ –Ω–∞ –ó–∞–ø–∏—Å–∞–Ω–∏—Ç–µ
                        </button>
                        <button (click)="editCourse(course._id)" class="edit-btn">‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–∞–π</button>
                        <button (click)="deleteCourse(course._id)" class="delete-btn">üóëÔ∏è –ò–∑—Ç—Ä–∏–π</button>
                    </div>
                </div>
                <div *ngIf="coursesList.length === 0" class="no-courses">
                    <p>–í—Å–µ –æ—â–µ –Ω—è–º–∞ –¥–æ–±–∞–≤–µ–Ω–∏ –∫—É—Ä—Å–æ–≤–µ.</p>
                </div>
            </div>
        </div>

        <!-- Course Enrollments Section -->
        <div *ngIf="activeSection === 'enrollments'" class="admin-section">
            <h2>üë• –ü—Ä–µ–≥–ª–µ–¥ –Ω–∞ –ó–∞–ø–∏—Å–∞–Ω–∏—Ç–µ –°—Ç—É–¥–µ–Ω—Ç–∏</h2>
            <div class="section-header">
                <button (click)="showCoursesSection()" class="back-btn">‚Üê –ù–∞–∑–∞–¥ –∫—ä–º –ö—É—Ä—Å–æ–≤–µ—Ç–µ</button>
                <button (click)="refreshEnrollments()" class="refresh-btn">üîÑ –û–±–Ω–æ–≤–∏</button>
            </div>

            <!-- All Enrollments Overview -->
            <div class="enrollments-overview">
                <h3>–û–±—â –ø—Ä–µ–≥–ª–µ–¥ –Ω–∞ –≤—Å–∏—á–∫–∏ –∑–∞–ø–∏—Å–∏–≤–∞–Ω–∏—è</h3>
                <div class="enrollments-stats">
                    <p><strong>–û–±—â –±—Ä–æ–π –∑–∞–ø–∏—Å–∏–≤–∞–Ω–∏—è:</strong> {{ allEnrollments.length }}</p>
                </div>
                <div class="all-enrollments-list">
                    <h4>–í—Å–∏—á–∫–∏ –∑–∞–ø–∏—Å–∏–≤–∞–Ω–∏—è:</h4>
                    <div *ngFor="let enrollment of allEnrollments" class="enrollment-item">
                        <div class="enrollment-info">
                            <p><strong>–°—Ç—É–¥–µ–Ω—Ç:</strong> {{ enrollment.username }} ({{ enrollment.email }})</p>
                            <p><strong>–ö—É—Ä—Å:</strong> {{ enrollment.courseTitle }}</p>
                            <p><strong>–ó–∞–ø–∏—Å–∞–Ω –Ω–∞:</strong> {{ enrollment.enrolledAt }}</p>
                            <p><strong>–°—Ç–∞—Ç—É—Å:</strong> {{ enrollment.status }}</p>
                        </div>
                    </div>
                    <div *ngIf="allEnrollments.length === 0" class="no-enrollments">
                        <p>–í—Å–µ –æ—â–µ –Ω—è–º–∞ –∑–∞–ø–∏—Å–∏–≤–∞–Ω–∏—è –≤ –∫—É—Ä—Å–æ–≤–µ.</p>
                    </div>
                </div>

                <!-- Specific Course Enrollments -->
                <div *ngIf="selectedCourseId && courseEnrollments.length > 0" class="course-specific-enrollments">
                    <h3>–ó–∞–ø–∏—Å–∞–Ω–∏ —Å—Ç—É–¥–µ–Ω—Ç–∏ –∑–∞ –∏–∑–±—Ä–∞–Ω–∏—è –∫—É—Ä—Å</h3>
                    <div *ngFor="let enrollment of courseEnrollments" class="enrollment-item">
                        <div class="enrollment-info">
                            <p><strong>–°—Ç—É–¥–µ–Ω—Ç:</strong> {{ enrollment.username }} ({{ enrollment.email }})</p>
                            <p><strong>–ó–∞–ø–∏—Å–∞–Ω –Ω–∞:</strong> {{ enrollment.enrolledAt }}</p>
                            <p><strong>–°—Ç–∞—Ç—É—Å:</strong> {{ enrollment.status }}</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Contact Messages Section -->
        <div *ngIf="activeSection === 'contact'" class="admin-section">
            <h2>üìß –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –ö–æ–Ω—Ç–∞–∫—Ç–Ω–∏ –°—ä–æ–±—â–µ–Ω–∏—è</h2>
            <div class="section-header">
                <button (click)="showCoursesSection()" class="back-btn">‚Üê –ù–∞–∑–∞–¥ –∫—ä–º –ö—É—Ä—Å–æ–≤–µ—Ç–µ</button>
                <button (click)="loadContactMessages()" class="refresh-btn">üîÑ –û–±–Ω–æ–≤–∏</button>
            </div>

            <div class="contact-stats">
                <div class="stat-item">
                    <h3>–û–±—â–æ —Å—ä–æ–±—â–µ–Ω–∏—è</h3>
                    <p>{{ contactCount }}</p>
                </div>
                <div class="stat-item">
                    <h3>–ù–æ–≤–∏ —Å—ä–æ–±—â–µ–Ω–∏—è</h3>
                    <p>{{ newContactCount }}</p>
                </div>
            </div>

            <div class="contact-messages-list">
                <div *ngFor="let message of contactMessages" class="contact-message-item">
                    <div class="message-header">
                        <div class="message-info">
                            <h4>{{ message.subject }}</h4>
                            <p><strong>–û—Ç:</strong> {{ message.name }} ({{ message.email }})</p>
                            <p><strong>–¢–µ–º–∞:</strong> {{ message.topic }}</p>
                            <p><strong>–ò–∑–ø—Ä–∞—Ç–µ–Ω–æ:</strong> {{ message.submittedAt | date:'dd/MM/yyyy HH:mm' }}</p>
                        </div>
                        <div class="message-status">
                            <span [class]="getStatusBadgeClass(message.status)">
                                {{ getStatusText(message.status) }}
                            </span>
                        </div>
                    </div>

                    <div class="message-content">
                        <p><strong>–°—ä–æ–±—â–µ–Ω–∏–µ:</strong></p>
                        <div class="message-text">{{ message.message }}</div>
                    </div>

                    <div class="message-actions">
                        <button (click)="updateContactStatus(message._id, 'read')" *ngIf="message.status === 'new'"
                            class="action-btn read-btn">
                            üëÅÔ∏è –ú–∞—Ä–∫–∏—Ä–∞–π –∫–∞—Ç–æ –ø—Ä–æ—á–µ—Ç–µ–Ω–æ
                        </button>
                        <button (click)="updateContactStatus(message._id, 'replied')"
                            *ngIf="message.status !== 'replied'" class="action-btn reply-btn">
                            üí¨ –ú–∞—Ä–∫–∏—Ä–∞–π –∫–∞—Ç–æ –æ—Ç–≥–æ–≤–æ—Ä–µ–Ω–æ
                        </button>
                        <button (click)="updateContactStatus(message._id, 'archived')"
                            *ngIf="message.status !== 'archived'" class="action-btn archive-btn">
                            üìÅ –ê—Ä—Ö–∏–≤–∏—Ä–∞–π
                        </button>
                        <button (click)="deleteContactMessage(message._id)" class="action-btn delete-btn">
                            üóëÔ∏è –ò–∑—Ç—Ä–∏–π
                        </button>
                    </div>

                    <div *ngIf="message.adminReply" class="admin-reply">
                        <h5>–ê–¥–º–∏–Ω –æ—Ç–≥–æ–≤–æ—Ä:</h5>
                        <p>{{ message.adminReply }}</p>
                        <small>–û—Ç–≥–æ–≤–æ—Ä–µ–Ω–æ –Ω–∞: {{ message.repliedAt | date:'dd/MM/yyyy HH:mm' }}</small>
                    </div>
                </div>

                <div *ngIf="contactMessages.length === 0" class="no-messages">
                    <p>–í—Å–µ –æ—â–µ –Ω—è–º–∞ –∫–æ–Ω—Ç–∞–∫—Ç–Ω–∏ —Å—ä–æ–±—â–µ–Ω–∏—è.</p>
                </div>
            </div>
        </div>

        <!-- Course Enrollments Section -->
        <div *ngIf="activeSection === 'enrollments'" class="admin-section">
            <h2>üìö –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –ó–∞–ø–∏—Å–∏—Ç–µ –≤ –ö—É—Ä—Å–æ–≤–µ</h2>
            <div class="section-header">
                <button (click)="showCoursesSection()" class="back-btn">‚Üê –ù–∞–∑–∞–¥ –∫—ä–º –ö—É—Ä—Å–æ–≤–µ—Ç–µ</button>
                <button (click)="refreshEnrollments()" class="refresh-btn">üîÑ –û–±–Ω–æ–≤–∏</button>
            </div>

            <div class="enrollments-overview">
                <h3>üìä –ü—Ä–µ–≥–ª–µ–¥ –Ω–∞ –≤—Å–∏—á–∫–∏ –∑–∞–ø–∏—Å–∏</h3>
                <p><strong>–û–±—â–æ –∑–∞–ø–∏—Å–∏:</strong> {{ allEnrollments.length }}</p>
            </div>

            <div *ngIf="allEnrollments.length > 0" class="enrollments-list">
                <div *ngFor="let enrollment of allEnrollments" class="enrollment-item">
                    <div class="enrollment-info">
                        <h4>{{ enrollment.courseTitle || '–ö—É—Ä—Å' }}</h4>
                        <p><strong>–°—Ç—É–¥–µ–Ω—Ç:</strong> {{ enrollment.studentName || '–ù–µ–∏–∑–≤–µ—Å—Ç–µ–Ω' }}</p>
                        <p><strong>Email:</strong> {{ enrollment.studentEmail || '–ù–µ–∏–∑–≤–µ—Å—Ç–µ–Ω' }}</p>
                        <p><strong>–î–∞—Ç–∞ –Ω–∞ –∑–∞–ø–∏—Å:</strong> {{ enrollment.enrollmentDate | date:'dd/MM/yyyy HH:mm' }}</p>
                        <p><strong>–°—Ç–∞—Ç—É—Å:</strong>
                            <span class="status-badge" [class]="'status-' + (enrollment.status || 'active')">
                                {{ getEnrollmentStatusText(enrollment.status) }}
                            </span>
                        </p>
                    </div>
                    <div class="enrollment-actions">
                        <button (click)="viewEnrollmentDetails(enrollment)" class="action-btn view-btn">
                            üëÅÔ∏è –î–µ—Ç–∞–π–ª–∏
                        </button>
                        <button (click)="removeEnrollment(enrollment._id)" class="action-btn delete-btn">
                            üóëÔ∏è –ü—Ä–µ–º–∞—Ö–Ω–∏
                        </button>
                    </div>
                </div>
            </div>

            <div *ngIf="allEnrollments.length === 0" class="no-enrollments">
                <p>–í—Å–µ –æ—â–µ –Ω—è–º–∞ –∑–∞–ø–∏—Å–∏ –≤ –∫—É—Ä—Å–æ–≤–µ.</p>
            </div>
        </div>

        <!-- Lottery Management Section -->
        <div *ngIf="activeSection === 'lottery'" class="admin-section">
            <h2>üéÅ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –¢–æ–º–±–æ–ª–∞—Ç–∞</h2>
            <div class="section-header">
                <button (click)="showCoursesSection()" class="back-btn">‚Üê –ù–∞–∑–∞–¥ –∫—ä–º –ö—É—Ä—Å–æ–≤–µ—Ç–µ</button>
                <button (click)="loadLotteryData()" class="refresh-btn">üîÑ –û–±–Ω–æ–≤–∏</button>
            </div>

            <div class="lottery-info">
                <p><strong>–£—á–∞—Å—Ç–Ω–∏—Ü–∏:</strong> {{ lotteryParticipants || 0 }}</p>
                <p><strong>–°—Ç–∞—Ç—É—Å:</strong> {{ lotteryActive ? '–ê–∫—Ç–∏–≤–Ω–∞' : '–ù–µ–∞–∫—Ç–∏–≤–Ω–∞' }}</p>

                <!-- Enhanced lottery details -->
                <div *ngIf="lotteryData" class="lottery-details">
                    <h4>üéØ –î–µ—Ç–∞–π–ª–∏ –∑–∞ —Ç–æ–º–±–æ–ª–∞—Ç–∞</h4>
                    <p><strong>–ò–º–µ:</strong> {{ lotteryData.name }}</p>
                    <p><strong>–û–ø–∏—Å–∞–Ω–∏–µ:</strong> {{ lotteryData.description }}</p>
                    <p><strong>–ù–∞–≥—Ä–∞–¥–∞:</strong> {{ lotteryData.prize }}</p>
                    <p><strong>–ú–∞–∫—Å. —É—á–∞—Å—Ç–Ω–∏—Ü–∏:</strong> {{ lotteryData.maxParticipants }}</p>
                    <p><strong>–ö—Ä–∞–π–Ω–∞ –¥–∞—Ç–∞:</strong> {{ lotteryData.endDate | date:'dd/MM/yyyy HH:mm' }}</p>

                    <!-- Participants list -->
                    <div *ngIf="lotteryData.participants && lotteryData.participants.length > 0"
                        class="participants-list">
                        <h5>üë• –°–ø–∏—Å—ä–∫ —Å —É—á–∞—Å—Ç–Ω–∏—Ü–∏:</h5>
                        <div class="participants-grid">
                            <div *ngFor="let participant of lotteryData.participants" class="participant-item">
                                <span class="participant-name">{{ participant.username }}</span>
                                <small class="join-date">{{ participant.joinDate | date:'dd/MM/yyyy' }}</small>
                            </div>
                        </div>
                    </div>

                    <!-- Winner info -->
                    <div *ngIf="lotteryData.winner" class="winner-info">
                        <h5>üèÜ –ü–æ–±–µ–¥–∏—Ç–µ–ª:</h5>
                        <p><strong>{{ lotteryData.winner.username }}</strong></p>
                    </div>
                </div>

                <p class="lottery-note">üéØ –ó–∞ –ø—ä–ª–Ω–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ —Ç–æ–º–±–æ–ª–∞—Ç–∞, –∏–∑–ø–æ–ª–∑–≤–∞–π—Ç–µ –æ—Ç–¥–µ–ª–Ω–∞—Ç–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞ —Ç–æ–º–±–æ–ª–∞.
                </p>
            </div>
        </div>

        <!-- Stats Section -->
        <div *ngIf="activeSection === 'stats'" class="admin-section">
            <h2>üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h2>
            <div class="stats-grid">
                <div class="stat-item">
                    <h3>–û–±—â–æ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏</h3>
                    <p>{{ userCount }}</p>
                </div>
                <div class="stat-item">
                    <h3>–û–±—â–æ —Ä–µ—Ü–µ–ø—Ç–∏</h3>
                    <p>{{ totalRecipes }}</p>
                </div>
                <div class="stat-item">
                    <h3>–†–µ—Ü–µ–ø—Ç–∏ –∑–∞ –º–æ–¥–µ—Ä–∞—Ü–∏—è</h3>
                    <p>{{ pendingRecipes }}</p>
                </div>

            </div>
        </div>
    </div>

    <!-- Current User Info -->
    <div class="current-user-info">
        <h3>–¢–µ–∫—É—â –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª:</h3>
        <div class="info-item">
            <strong>–ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—Å–∫–æ –∏–º–µ: </strong> {{ currentUser?.username }}
        </div>
        <div class="info-item">
            <strong>–ò–º–µ–π–ª: </strong> {{ currentUser?.email }}
        </div>
        <div class="info-item">
            <strong>–†–æ–ª—è: </strong> {{ currentUser?.role }}
        </div>
        <div class="info-item">
            <strong>–†–µ–≥–∏—Å—Ç—Ä–∏—Ä–∞–Ω –Ω–∞: </strong> {{ currentUser?.created_at?.substring(0, 10) }}
        </div>
    </div>
</div>